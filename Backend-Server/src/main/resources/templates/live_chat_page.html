<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Chat Application</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" rel="stylesheet" href="/css/font-awesome.min.css">
    <link type="text/css" rel="stylesheet" href="/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="/css/live_chat_page.css">
    <link type="text/css" rel="stylesheet" href="/css/particles.css">
    <link type="text/css" rel="stylesheet" href="/css/notification.css">

    <script type="application/javascript" src="/js/particles.min.js"></script>
    <script type="application/javascript" src="/js/index.js"></script>
    <script type="application/javascript" src="/js/jquery.min.js"></script>
    <script type="application/javascript" src="/js/sockjs.min.js"></script>
    <script type="application/javascript" src="/js/stomp.min.js"></script>
    <script type="application/javascript" src="/js/live_chat_page.js"></script>
    <script>
        particlesJS.load('particles-js', 'config/particles.json', function () {
            console.log('callback - particles.js config loaded');
        });
    </script>

</head>

<body>


<div id="particles-js" class="panel" style="background: #000000"></div>
<div class="container">

    <!-- Content wrapper start -->
    <div class="content-wrapper">

        <!-- Row start -->
        <div class="row gutters">

            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">

                <div class="card m-0">

                    <!-- Row start -->
                    <div class="row no-gutters">
                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-3 col-3">
                            <div class="users-container">
                                <div class="chat-search-box">
                                    <div class="input-group">
                                        <input class="form-control" disabled id="username_greeter"
                                               style="border-color: #4c2323;background-color: #161515;font-size: 150%;">
                                    </div>
                                </div>
                                <div class="wrapper">
                                    <div class="main">
                                        <div class="px-2 scroll">
                                            <ul class="users" id="active_users">

                                                <!--Here go all the registered users, along with their active status(red or green)-->

                                                <!--Public chatroom-->
                                                <li class="person" data-chat="person1"
                                                    onclick="changeChatRoom('public')" id="public_chat_room">
                                                    <div class="user">
                                                        <img src="/images/chatroom.jpg" alt="Public Chatroom">
                                                    </div>
                                                    <p class="name-time">
                                                        <span class="name">Public Chatroom</span>
                                                    </p>
                                                </li>

                                                <!--Online userlist-->

                                            </ul>
                                        </div>
                                    </div>
                                </div>


                            </div>

                            <!--Currently logged-in user area-->
                            <a style="color: white;" id="logged_in_user"></a>
                            <div>&nbsp;</div>
                            <div>&nbsp;</div>

                            <div class="">
                                <div class="col no-gutters">
                                    <a tabindex="4" class="form-control btn" onclick="settingsPage()">ACCOUNT
                                        SETTINGS</a>
                                </div>
                                <div class="col no-gutters">
                                    <a onclick="logout()" tabindex="4" class="form-control btn">LOGOUT
                                    </a>
                                </div>

                            </div>


                        </div>


                        <div class="col-xl-8 col-lg-8 col-md-8 col-sm-9 col-9">

                            <!-- Room id display number(selected user) -->
                            <div class="selected-user">
                                <span>To:
                                    <span class="name" id="selected_user_name">
                                        <!--Here goes currently loaded roomId -->
                                    </span>
                                </span>
                            </div>


                            <div class="chat-container">
                                <div class="wrapper">
                                    <div class="main">
                                        <div class="px-2 scroll" id="scroller">
                                            <ul class="chat-box chatContainerScroll" id="chat_message_box">

                                                <!-- Here go messages-->

                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group mt-3 mb-0">
                                    <textarea type="text" class="form-control" id="chat_box" rows="3"
                                              placeholder="Type your message here..." autocomplete="off"
                                              onkeypress="sendMessage(event)"
                                              onpaste="event.preventDefault()"></textarea>
                                </div>
                                <!--image selector-->
                                <input type="file" onchange="uploadImage()" id="image_input"
                                       accept="image/jpeg,image/jpg,image/png" style="display:none;">
                                <label class="form-control btn-dark" for="image_input" style="text-align: center;">UPLOAD
                                    IMAGE</label>

                                <button class="btn btn-default"
                                        style="color: white;background: black;border-color: brown;margin-top: 10px;"
                                        id="micPermission" onclick="getPermission()">Request Mic Stream
                                </button>
                                <button id="start"
                                        style="color: white;background: black;border-color: brown;margin-top: 10px;"
                                        class="btn btn-default" onclick="record()">Start
                                </button>
                                <button id="stop" class="btn btn-default"
                                        style="color: white;background: black;border-color: brown;margin-top: 10px;"
                                        onclick="stopRecord()">Stop
                                </button>
                            </div>

                            <!--                            Notification area-->
                            <div id="notification_box" class="col-sm-12">


                            </div>
                        </div>
                    </div>
                    <!-- Row end -->
                </div>

            </div>

        </div>
        <!-- Row end -->

    </div>
    <!-- Content wrapper end -->

</div>

</body>
</html>